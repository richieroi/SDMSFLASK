{% extends "base.html" %}

{% block title %}{{ title }} - School Management System{% endblock %}

{% block content %}
<h1><i class="fas fa-user-cog"></i> {{ title }}</h1>

<form method="POST" action="{{ action_url }}" class="form">
    <div class="form-group">
        <label for="username">Username</label>
        <input type="text" id="username" name="username" value="{{ user.UserName if user else '' }}" required>
    </div>
    
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="{{ user.Email if user else '' }}" required>
    </div>
    
    <div class="form-group">
        <label for="role">Role</label>
        <select id="role" name="role" class="form-control" required>
            {% for role in roles %}
            <option value="{{ role }}" {% if user and user.RoleName == role %}selected{% endif %}>{{ role }}</option>
            {% endfor %}
        </select>
    </div>
    
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" {% if not user %}required{% endif %}>
        {% if user %}
        <small class="form-text text-muted">Leave blank to keep the current password.</small>
        {% endif %}
    </div>
    
    <div class="form-actions">
        <button type="submit" class="btn btn-primary">{{ submit_text }}</button>
        <a href="{{ url_for('manage_users') }}" class="btn">Cancel</a>
    </div>
</form>
{% endblock %}
